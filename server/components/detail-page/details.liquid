{% comment %} Div or section with two headers? {% endcomment %}

{% if lang == 'EN' %}
{% assign type = event.event.type_en %}
{% assign title = event.event.title_en %}
{% assign content = event.event.content_en %}
{% else %}
{% assign type = event.event.type_nl %}
{% assign title = event.event.title_nl %}
{% assign content = event.event.content_nl %}
{% endif %}

<div class="details-position">
  <div class="details-wrapper">
  
    <details class="about" open name="about&relations-switch">
      <summary>
        {% if lang == 'EN' %}
        About
        {% else %}
        Over
        {% endif %}
      </summary>

      {% if event %}
        <h2>{{ title }}</h2>
      {% elsif person %}
        <section class="person">
          <h2>{{ artist.person.name }}</h2>
          <a href="" target="_blank">
            <svg role="graphics-symbol" width="24" height="24" aria-labelledby="artist-website" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 21.5C14.3319 21.5 16.2222 17.2467 16.2222 12C16.2222 6.75329 14.3319 2.5 12 2.5C9.66812 2.5 7.77776 6.75329 7.77776 12C7.77776 17.2467 9.66812 21.5 12 21.5Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M2.5 12H21.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <p id="artist-website">
              {% if lang == 'EN' %}
                Artist's personal website
              {% else %}
                Persoonlijke website van de artiest
              {% endif %}
            </p>
            <svg role="graphics-symbol" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.6568 6.34315L6.34314 17.6569" stroke="currentColor" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round"/>
              <path d="M18.101 16.7327L18.101 7.4373C18.1019 7.23513 18.0627 7.03471 17.9856 6.84767C17.9086 6.66062 17.7953 6.4907 17.6523 6.34768C17.5093 6.20465 17.3394 6.09137 17.1523 6.01443C16.9653 5.93732 16.7649 5.89814 16.5627 5.89898L7.2673 5.89899" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </section>
      {% endif %}
      
      {% if event %}
      <ul>
        <li class="type">
          <h3>
            {% if lang == 'EN' %}
            Type
            {% else %}
            Type
            {% endif %}
          </h3>
          <ul>
            <li>
              {% if lang == 'EN' %}
                {{ type_en }}
              {% else %}
                {{ type_nl }}
              {% endif %}
            </li>
          </ul>
        </li>
        <li class="artist">
          {% comment %} Better element for this? {% endcomment %}
          <h3>
            {% if lang == 'EN' %}
            Artist
            {% else %}
            Artiest
            {% endif %}
          </h3>
          {% for rel in event.relationships %}
          {% if rel.node == "Person" %}
          {% for artist in allArtists %}
          {% if rel.uuid == artist.person.uuid %}
            <p>{{ artist.person.name }}</p>
          {% endif %}
          {% endfor %}
          {% endif %}
          {% endfor %}
        </li>
        <li>
          <h3>
            {% if lang == 'EN' %}
              Date
            {% else %}
              Datum
            {% endif %}
          </h3>
          {% if item.event.date_start == "null" or item.event.date_start == blank %}
            {% if lang == 'EN' %}
              <p>One day event</p>
            {% else %}
              <p>Eendaags event</p>
            {% endif %}
          {% else %}
              <p>{{ item.event.date_start | date: "%-d %B %Y" }}</p>
          {% endif %}
          {% if item.event.date_end == nil or item.event.date_end == blank %}
                {% if lang == 'EN' %}
                <p>One day event</p>
                {% else %}
                <p>Eendaags event</p>
                {% endif %}
          {% else %}
                {% if lang == 'EN' %}
                  <p>till {{ item.event.date_end | date: "%-d %B %Y" }}</p>
                {% else %}
                  <p>t/m {{ item.event.date_end | date: "%-d %B %Y" }}</p>
                {% endif %}
          {% endif %}
        </li>
      </ul>
      <img src="{{ event.imageUrl }}" alt="Cover image of {{ event_title }}" class="category-image" loading="lazy">
      
      {% if lang == 'EN' %}
        <p>{{ content_en }}</p>
      {% else %}
        {% if content_nl == nil or content_nl == blank %}
          <p>Excuses, deze content is alleen beschikbaar in het Engels.</p>
          <p>{{ content_en }}</p>
        {% else %}
          <p>{{ content_nl }}</p>
        {% endif %}
      {% endif %}

    {% elsif person %}
        <ul>
          <li class="exhibitions">
            <h3>
              {% if lang == 'EN' %}
              Ehibitions
              {% else %}
              Exposities
              {% endif %}
          </h3>
          </li>
          <li class="date">
            <h3>
              {% if lang == 'EN' %}
              Year
              {% else %}
              Jaar
              {% endif %}
            </h3>
          <p>{{ event.event.year }}</p>
          </li>
        </ul>
        <img src="{{ artist.imageUrl }}" {% if lang == 'EN' %}alt="Portrait picture of {{ artist.person.name }}"{% else %}alt="Portrait picture of {{ artist.person.name }}"{% endif %}  class="category-image" loading="lazy">
          
        {% if lang == 'EN' %}
          <p>{{ artist.person.bio_en }}</p>
        {% else %}
          {% if artist.person.bio_nl == nil or artist.person.bio_nl == blank %}
            <p>Excuses, deze content is alleen beschikbaar in het Engels.</p>
            <p>{{ artist.person.bio_en }}</p>
          {% else %}
            <p>{{ artist.person.bio_nl }}</p>
          {% endif %}
        {% endif %}
      {% endif %}
      <hr>
    </details>

    {% comment %} ///////////////////// {% endcomment %}
    {% comment %} ğŸ”—ğŸ”—ğŸ”— RELATIONS ğŸ”—ğŸ”—ğŸ”— {% endcomment %}
    {% comment %} ///////////////////// {% endcomment %}
     
    <details class="relations" name="about&relations-switch">
      <summary>
        {% if lang == 'EN' %}
        Related
        {% else %}
        Gerelateerd
        {% endif %}
      </summary>

      {% if event %}
      <h2>{{ title }}</h2>
      {% elsif person %}
      <h2>{{ artist.person.name }}</h2>
      {% endif %}

      {% comment %} //////////////////// {% endcomment %}
      {% comment %} ğŸï¸ğŸï¸ğŸï¸ REL LIST ğŸï¸ğŸï¸ğŸï¸ {% endcomment %}
      {% comment %} //////////////////// {% endcomment %}
      
      <ul class="relations-list">
        {% for rel in event.relationships %}
        {% if rel.node == "Person" %}
        {% for artist in allArtists %}
        {% if rel.uuid == artist.person.uuid %}
        <li>
          {% if person %}
          <a href="/{{ lang }}/archive/{{ item.event.uuid }}">
            <img src="{{ event.imageUrl }}" class="relation-img" alt="Portrait picture of {{ artist.person.name }}, who has had a role in this {{ type }}">
            <h3>{{ title }}</h3>
          </a>
          {% elsif event %}
          <a href="/{{ lang }}/archive/{{ item.artist.uuid }}">
            <img src="{{ artist.imageUrl }}" class="relation-img" alt="Cover picture of {{ title }}, which has a relation to {{ artist.person.name }}">
            <h3>{{ artist.person.name }}</h3>
          </a>
          {% else %}
            <svg role="img" xmlns="http://www.w3.org/2000/svg" width="92" height="80" id="empty-state-img" viewBox="0 0 92 80" fill="none">
            <title id="empty-state-title">
              {% if lang == 'EN' %}
                Sorry, no relations available
              {% else %}
                Excuses, er zijn geen relaties gevonden
              {% endif %}
              <path d="M36 0.5C35.2031 0.5 34.4375 0.81641 33.875 1.37891C33.3125 1.94532 32.9961 2.70701 32.9961 3.50391C32.9961 4.29688 33.3125 5.06251 33.875 5.62501L41.75 13.5L33.875 21.3789C33.3125 21.9414 32.9961 22.7031 32.9961 23.5C32.9961 24.2969 33.3125 25.0586 33.875 25.6211C34.4375 26.1875 35.2031 26.5039 36 26.5039C36.7969 26.5039 37.5586 26.1875 38.1211 25.6211L45.9961 17.7422L53.8711 25.6211H53.875C54.4375 26.1875 55.1992 26.5039 55.9961 26.5039C56.793 26.5039 57.5547 26.1875 58.1172 25.6211C58.6797 25.0586 58.9961 24.2969 58.9961 23.5C58.9961 22.7031 58.6797 21.9414 58.1172 21.3789L50.2422 13.5L58.1172 5.62501C58.6797 5.06251 58.9961 4.29691 58.9961 3.50391C58.9961 2.70703 58.6797 1.94531 58.1172 1.37891C57.5547 0.81641 56.793 0.5 55.9961 0.5C55.1992 0.5 54.4375 0.81641 53.875 1.37891L46 9.25391L38.125 1.37891H38.1211C37.5586 0.81641 36.7969 0.5 36 0.5ZM7.00001 30.504C3.16801 30.504 0.00390625 33.672 0.00390625 37.5001V66.5041C0.00390625 73.6486 5.85941 79.5041 13.0039 79.5041H79.0079C86.1524 79.5041 92.0039 73.6486 92.0039 66.5041V37.5001C92.0039 33.6681 88.832 30.504 85 30.504H71.504C68.0313 30.504 64.754 32.1798 62.7267 35.0001L56.6447 43.4689C55.7424 44.7267 54.3049 45.4689 52.7541 45.4689H39.2541C37.7072 45.4689 36.258 44.7267 35.3557 43.4689L29.2737 35.0001C27.2464 32.1798 23.9768 30.504 20.5042 30.504H7.00001ZM7.00001 36.5079H20.504C22.0509 36.5079 23.4962 37.2423 24.3985 38.5001L30.4805 46.9767C32.5078 49.797 35.7774 51.4728 39.25 51.4728H52.746C56.2187 51.4728 59.496 49.797 61.5233 46.9767L67.6053 38.5001C68.5076 37.2423 69.9569 36.5079 71.5037 36.5079H84.9997C85.5857 36.5079 86.0036 36.9181 86.0036 37.504V66.508C86.0036 70.4103 82.9059 73.5041 79.0075 73.5041H13.0035C9.10121 73.5041 5.99961 70.4064 5.99961 66.508V37.504C5.99961 36.9181 6.41758 36.5079 7.00351 36.5079H7.00001Z" fill="black"/>
            </svg>
            <h3>
              {% if lang == 'EN' %}
                Sorry, there are no relations to this content!
              {% else %}
                Excuses, er zijn geen relaties gevonden bij deze content!
              {% endif %}
          {% endif %}
        </li>
        {% endif %}
        {% endfor %}
        {% endif %}
        {% endfor %}
      </ul>

      {% comment %} <section class="relation-carousel">
        <input type="radio" id="radio-1" name="radio-card" checked>

        <article class="relation-content" style="--angle:4deg">
          {% for rel in event.relationships %}
          {% if rel.node == "Person" %}
          {% for artist in allArtists %}
          {% if rel.uuid == artist.person.uuid %}

          <img class="relation-image-carousel" src="{{ artist.imageUrl }}">
            <div class="relation-data">
              <span class="card-num" aria-label="relation">1/7</span>
              
                <h2>{{ artist.person.name }}</h2>
              <div class="labels">
                <label for="radio-7" aria-label="Previous">&#10094;</label>
                <label for="radio-2" aria-label="Next">&#10095;</label>
              </div>
            </div>
          {% endif %}
          {% endfor %}
          {% endif %}
          {% endfor %}
        </article>
      </section> {% endcomment %}

    </details>

  </div>
</div>